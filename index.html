<!DOCTYPE html>
<html lang="en">
<head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title> JavaScript ATM problem solution </title>
</head>
<body>
        <h1> ATM </h1>

        <p id="withdrawAmount"> </p>
        <p id="accountBalance"> </p>
        <p id="lessAccountBalance"> </p>
        <p id="notValidAmount"> </p>
        
        <hr>

        <button onclick="document.getElementById('checkBalance').innerHTML =
         'Name : ' + accountName + '<br>' + ' your saving\'s account balance is' + ' ' + balance + ' $US' " >
                Check Balance
        </button>
        <p id="checkBalance"></p>

        <hr>

        <button onclick="document.getElementById('lastTransaction').innerHTML = 
        'Name : ' + accountName + '<br>' + ' your last transaction amount is ' + ' ' + lastTransaction + ' $US' ">
                Last transaction
        </button>
        <p id="lastTransaction"></p> <hr>

        <script>
                let accountName = 'Pooja';
                let withdrawAmount ;
                withdrawAmount = 0 + window.prompt( accountName + " " + "please enter the $US that you want to withdraw");
                var accountBalance = 2000;
                withdrawAmount = Number.parseInt(withdrawAmount);

                console.log( typeof withdrawAmount);


                if( withdrawAmount == "" || withdrawAmount <= 0 || typeof(withdrawAmount) == "string"){
                        document.getElementById('notValidAmount').innerHTML = accountName + " " + "Please enter valid amount";
                }
                else{

                        if( withdrawAmount > 0 && withdrawAmount < 2000 ){

                                if( (withdrawAmount % 5) == 0){

                                        let bankCharges = 0.50;
                                        var balance = accountBalance - withdrawAmount - bankCharges;
                                        balance = balance.toFixed(2);
                                        document.getElementById('accountBalance').innerHTML = "Avaliable Balance : " + balance + ' $US';
                                        var lastTransaction = accountBalance - balance - bankCharges;
                                } 
                                else{
                                        document.getElementById('withdrawAmount').innerHTML = "Please enter the withdraw amount in multiples of 5 $US " ;
                                }
                        }
                        else{
                                document.getElementById('lessAccountBalance').innerHTML = " You don't have sufficent Balance to withdraw amount";
                        }
                }
        if(balance == undefined || lastTransaction == undefined){
                balance = accountBalance;
                lastTransaction = 0;
        }
        </script>
</body>
</html>